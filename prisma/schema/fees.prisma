model FeeType {
  id        String      @id @default(uuid())
  name      String
  amount    Float
  category  FeeCategory @unique
  isMonthly Boolean     @default(false)
  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt

  payments FeePayment[]

  @@map("feeTypes")
}

model FeePayment {
  id        String @id @default(uuid())
  studentId String
  feeTypeId String

  month      String?
  year       Int?
  term       TERM?
  paidAmount Float
  paidDate   DateTime @default(now())
  issuedBy   String

  student Student  @relation(fields: [studentId], references: [id])
  feeType FeeType  @relation(fields: [feeTypeId], references: [id])
  payment Payment?

  @@map("feePayments")
}

model Payment {
  id           String     @id @default(uuid())
  feePaymentId String     @unique
  feePayment   FeePayment @relation(fields: [feePaymentId], references: [id])

  transactionId String        @unique
  amount        Float
  method        PaymentMethod @default(SSL)
  status        PaymentStatus @default(PENDING)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("payments")
}
