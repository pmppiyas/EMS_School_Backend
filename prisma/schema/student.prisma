model Student {
  id              String           @id @default(uuid())
  firstName       String
  lastName        String
  email           String           @unique
  phoneNumber     String?
  address         String?
  dateOfBirth     DateTime?
  classId         String?
  class           Class?           @relation(fields: [classId], references: [id])
  subjects        Subject[]
  roll            String
  gender          Gender
  userId          String           @unique
  user            User             @relation(fields: [userId], references: [id])
  createdAt       DateTime         @default(now())
  updatedAt       DateTime         @updatedAt
  studentSubjects StudentSubject[]
  results         Result[]

  @@map("students")
}

model StudentSubject {
  id        String  @id @default(uuid())
  studentId String
  subjectId String
  dayOfWeek WeekDay

  student Student @relation(fields: [studentId], references: [id])
  subject Subject @relation(fields: [subjectId], references: [id])

  @@unique([studentId, subjectId, dayOfWeek])
  @@map("studentSubjects")
}
